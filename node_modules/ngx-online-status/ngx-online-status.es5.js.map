{"version":3,"file":"ngx-online-status.es5.js","sources":["ts/ngx-online-status.ts","ts/src/app/modules/online-status/index.ts","ts/src/app/modules/online-status/online-status.module.ts","ts/src/app/modules/online-status/online-status.service.ts","ts/src/app/modules/online-status/online-status-type.enum.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {OnlineStatusType,OnlineStatusService,OnlineStatusModule} from './public_api';\n","/**\n * Created by Vadym Yatsyuk on 27.01.18\n */\n\nexport {OnlineStatusType} from './online-status-type.enum';\nexport {OnlineStatusService} from './online-status.service';\nexport {OnlineStatusModule} from './online-status.module';","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OnlineStatusService } from './online-status.service';\nexport class OnlineStatusModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule\n  ],\n  declarations: [],\n  providers: [\n    OnlineStatusService\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction OnlineStatusModule_tsickle_Closure_declarations() {\n/** @type {?} */\nOnlineStatusModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nOnlineStatusModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { EventEmitter, Injectable, OnDestroy } from '@angular/core';\nimport { OnlineStatusType } from './online-status-type.enum';\nexport class OnlineStatusService implements OnDestroy {\npublic status = new EventEmitter<OnlineStatusType>(true);\n  static EVENT_TYPE_ONLINE = 'online';\n  static EVENT_TYPE_OFFLINE = 'offline';\nconstructor() {\n    this.bind();\n\n    window.addEventListener(OnlineStatusService.EVENT_TYPE_ONLINE, this.onOnline);\n    window.addEventListener(OnlineStatusService.EVENT_TYPE_OFFLINE, this.onOffline);\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    window.removeEventListener(OnlineStatusService.EVENT_TYPE_ONLINE, this.onOnline);\n    window.removeEventListener(OnlineStatusService.EVENT_TYPE_OFFLINE, this.onOffline);\n  }\n/**\n * @return {?}\n */\nprivate bind() {\n    this.onOnline = this.onOnline.bind(this);\n    this.onOffline = this.onOffline.bind(this);\n  }\n/**\n * @return {?}\n */\nprivate onOnline() {\n    this.status.emit(OnlineStatusType.ONLINE);\n  }\n/**\n * @return {?}\n */\nprivate onOffline() {\n    this.status.emit(OnlineStatusType.OFFLINE);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction OnlineStatusService_tsickle_Closure_declarations() {\n/** @type {?} */\nOnlineStatusService.EVENT_TYPE_ONLINE;\n/** @type {?} */\nOnlineStatusService.EVENT_TYPE_OFFLINE;\n/** @type {?} */\nOnlineStatusService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nOnlineStatusService.ctorParameters;\n/** @type {?} */\nOnlineStatusService.prototype.status;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nexport type OnlineStatusType = number;\nexport let OnlineStatusType: any = {};\nOnlineStatusType.OFFLINE = 0;\nOnlineStatusType.ONLINE = 1;\nOnlineStatusType[OnlineStatusType.OFFLINE] = \"OFFLINE\";\nOnlineStatusType[OnlineStatusType.ONLINE] = \"ONLINE\";\n\n"],"names":[],"mappings":";;AIEO,IAAI,gBAAgB,GAAQ,EAAE,CAAC;AACtC,gBAAgB,CAAC,OAAO,GAAG,CAAC,CAAC;AAC7B,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;AAC5B,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC;AACvD,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC;ADJrD;IAIA;QADS,IAAT,CAAA,MAAS,GAAS,IAAI,YAAA,CAA8B,IAAE,CAAI,CAAC;QAEvD,IAAI,CAAC,IAAI,EAAE,CAAC;QAEZ,MAAM,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9E,MAAM,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IACpF,CAAG;;;;IAIH,yCACG,GADH;QACI,MAAM,CACC,mBAAC,CAAmB,mBAAC,CAAmB,iBAAC,EAAkB,IAAA,CAAK,QAAC,CAAQ,CAAC;QAAjF,MAAM,CACC,mBAAC,CAAmB,mBAAC,CAAmB,kBAAC,EAAmB,IAAA,CAAK,SAAC,CAAS,CAAC;IAAvF,CAAG;;;;IAGA,kCAAA,GAAA;QAEC,IAAI,CADC,QAAC,GAAU,IAAA,CAAK,QAAC,CAAQ,IAAC,CAAI,IAAC,CAAI,CAAC;QAEzC,IAAI,CADC,SAAC,GAAW,IAAA,CAAK,SAAC,CAAS,IAAC,CAAI,IAAC,CAAI,CAAC;IAE/C,CAAG;;;;IACA,sCAAA,GAAA;QAIC,IAAI,CAHC,MAAC,CAAM,IAAC,CAAI,gBAAC,CAAgB,MAAC,CAAM,CAAC;IAI9C,CAAG;;;;IADA,uCAAA,GAAA;QAMC,IAAI,CALC,MAAC,CAAM,IAAC,CAAI,gBAAC,CAAgB,OAAC,CAAO,CAAC;IAM/C,CAAG;;CAnCH;AAIS,mBAAT,CAAA,iBAAS,GAAoB,QAAA,CAAS;AAC7B,mBAAT,CAAA,kBAAS,GAAqB,SAAA,CAAU;AA0BjC,mBAAP,CAAA,UAAO,GAAoC;IAM3C,EALE,IAAA,EAAM,UAAA,EAAW;CAMlB,CALC;;;;AAED,mBAAD,CAAA,cAAC,GAAA,cAAA,OAAA,EAQA,EARA,CAQA,CAAC;AD1CF;IAAA;;;CAAA;AAEyC,kBAAzC,CAAA,UAAyC,GAAoC;IAD7E,EAEE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,CAAA;gBADtB,OAAO,EAEE;oBADP,YAAY;iBACb;gBACD,YAAY,EAEE,EAAA;gBADd,SAAS,EAEE;oBADT,mBAAmB;iBACpB;aACF,EAEC,EAAG;CADJ,CAEC;;;;AAED,kBAAD,CAAA,cAAC,GAAA,cAAA,OAAA,EACA,EADA,CACA,CAAC;ADlBF;;GAEG;ADFH;;GAEG;"}
